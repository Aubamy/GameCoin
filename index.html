<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GameCoins Top-up</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="assets/logo.png">
</head>
<body>
  <div class="container">
    <header class="site">
      <div class="brand">
        <div class="logo">GC</div>
        <div>
          <h1>GameCoins â€¢ Top-up
            <svg style="margin-left: 20px; margin-bottom:-10px;" xmlns="http://www.w3.org/2000/svg" height="48px" viewBox="0 -960 960 960" width="48px" fill="#e3e3e3">
              <path d="M189-160q-60 0-102.5-43T42-307q0-9 1-18t3-18l84-336q14-54 57-87.5t98-33.5h390q55 0 98 33.5t57 87.5l84 336q2 9 3.5 18.5T919-306q0 61-43.5 103.5T771-160q-42 0-78-22t-54-60l-28-58q-5-10-15-15t-21-5H385q-11 0-21 5t-15 15l-28 58q-18 38-54 60t-78 22Zm2.66-60q24.34 0 45.01-12.97Q257.33-245.95 268-268l28-57q13-26 36.5-40.5T385-380h190q29 0 52.5 15t37.5 40l28 57q10.67 22.05 31.33 35.03Q745-220 769.26-220 805-220 831-244.5t27-60.5q0-4-3-24l-84-335q-8-33-34.4-54.5T675-740H285q-34.7 0-61.35 21T189-664l-84 335q-1 4-3 23 0 36.48 26.26 61.24Q154.52-220 191.66-220Zm348.52-310q12.82 0 21.32-8.68 8.5-8.67 8.5-21.5 0-12.82-8.68-21.32-8.67-8.5-21.5-8.5-12.82 0-21.32 8.68-8.5 8.67-8.5 21.5 0 12.82 8.68 21.32 8.67 8.5 21.5 8.5Zm80-80q12.82 0 21.32-8.68 8.5-8.67 8.5-21.5 0-12.82-8.68-21.32-8.67-8.5-21.5-8.5-12.82 0-21.32 8.68-8.5 8.67-8.5 21.5 0 12.82 8.68 21.32 8.67 8.5 21.5 8.5Zm0 160q12.82 0 21.32-8.68 8.5-8.67 8.5-21.5 0-12.82-8.68-21.32-8.67-8.5-21.5-8.5-12.82 0-21.32 8.68-8.5 8.67-8.5 21.5 0 12.82 8.68 21.32 8.67 8.5 21.5 8.5Zm80-80q12.82 0 21.32-8.68 8.5-8.67 8.5-21.5 0-12.82-8.68-21.32-8.67-8.5-21.5-8.5-12.82 0-21.32 8.68-8.5 8.67-8.5 21.5 0 12.82 8.68 21.32 8.67 8.5 21.5 8.5Zm-360.06 65q10.88 0 17.88-7.08 7-7.09 7-17.92v-45h45q10.83 0 17.92-7.12 7.08-7.11 7.08-18 0-10.88-7.08-17.88-7.09-7-17.92-7h-45v-45q0-10.83-7.12-17.92-7.11-7.08-18-7.08-10.88 0-17.88 7.08-7 7.09-7 17.92v45h-45q-10.83 0-17.92 7.12-7.08 7.11-7.08 18 0 10.88 7.08 17.88 7.09 7 17.92 7h45v45q0 10.83 7.12 17.92 7.11 7.08 18 7.08ZM480-480Z"/>
            </svg>
          </h1>
          <p class="lead">Buy coins, data & recharge, and top-up betting accounts</p>
        </div>
      </div>

      <nav class="topnav" id="topnav">
        <button class="nav-btn active"><a href="index.html">Home</a></button>
        <button class="nav-btn"><a href="efootball.html">eFootball</a></button>
        <button class="nav-btn"><a href="fcmobile.html">FC Mobile</a></button>
        <button class="nav-btn"><a href="bloodstrike.html">Blood Strike</a></button>
        <button class="nav-btn"><a href="cod.html">Call of Duty</a></button>
        <button class="nav-btn"><a href="data.html">Data & Recharge</a></button>
        <button class="nav-btn"><a href="betting.html">Betting Top-up</a></button>
        <button class="nav-btn"><a href="orders.html">Orders</a></button>
      </nav>
    </header>

    <main>
      <section class="card hero">
        <div>
          <h2>Welcome â€” Top-up made simple</h2>
          <p class="small">Choose a service, select a package and message our seller on WhatsApp to complete payment and receive your top-up.</p>

          <div class="grid-cards">
            <div class="service-card">
              <div>
                <h3>eFootball Coins</h3>
                <p>Fast delivery, secure transfers for PES/eFootball.</p>
              </div>
              <div class="cta">
                <a class="btn" href="efootball.html">View</a>
                <a class="btn ghost" href="efootball.html">Packages</a>
              </div>
            </div>

            <div class="service-card">
              <div>
                <h3>FC Mobile Points</h3>
                <p>Quick crediting of FC Mobile points to your account.</p>
              </div>
              <div class="cta">
                <a class="btn" href="fcmobile.html">View</a>
                <a class="btn ghost" href="fcmobile.html">Packages</a>
              </div>
            </div>

            <div class="service-card">
              <div>
                <h3>Data & Recharge</h3>
                <p>All networks â€” MTN, Airtel, Glo, 9mobile recharge cards & data bundles.</p>
              </div>
              <div class="cta">
                <a class="btn" href="data.html">Buy</a>
                <a class="btn ghost" href="data.html">Bundles</a>
              </div>
            </div>

            <div class="service-card">
              <div>
                <h3>Betting Top-up</h3>
                <p>Top-up SportyBet and other platforms â€” safe and quick.</p>
              </div>
              <div class="cta">
                <a class="btn" href="betting.html">Top-up</a>
                <a class="btn ghost" href="betting.html">How</a>
              </div>
            </div>

            <div class="service-card">
              <div>
                <h3>Blood Strike</h3>
                <p>Fast diamonds delivery for Blood Strike.</p>
              </div>
              <div class="cta">
                <a class="btn" href="bloodstrike.html">View</a>
                <a class="btn ghost" href="bloodstrike.html">Packages</a>
              </div>
            </div>

            <div class="service-card">
              <div>
                <h3>Call of Duty</h3>
                <p>Call of Duty CP packages â€” instant and safe.</p>
              </div>
              <div class="cta">
                <a class="btn" href="cod.html">View</a>
                <a class="btn ghost" href="cod.html">Packages</a>
              </div>
            </div>
          </div>
        </div>

        <aside>
          <div class="card">
            <h3>Quick Contact</h3>
            <p class="small">Tap to open WhatsApp with a pre-filled message.</p>
            <div style="display:flex;gap:8px;margin-top:12px">
              <button class="btn" id="whatsappAll">Message Seller</button>
              <button class="btn ghost" id="phoneNumber">+234 805 032 5693</button>
            </div>
            <hr style="border:none;border-top:1px solid rgba(255,255,255,0.03);margin:12px 0">
            <h4 style="margin:0">Why buy from us?</h4>
            <ul style="padding-left:18px;margin:8px 0;color:var(--muted)">
              <li>Fast delivery within minutes</li>
              <li>Secure manual verification</li>
              <li>Support on WhatsApp</li>
            </ul>
          </div>
        </aside>
      </section>
    </main>

    <div id="footer-container"></div>
  </div>

  <!-- ðŸ”¹ AUTH MODAL -->
  <div class="auth-backdrop" id="authModal">
    <div class="auth-modal">
      <h3 id="authTitle">Create Account</h3>
      <div class="field"><label>Full Name</label><input type="text" id="authName"></div>
      <div class="field"><label>Email</label><input type="email" id="authEmail"></div>
      <div class="field"><label>Password</label><input type="password" id="authPassword"></div>
      <button class="btn" id="authSubmit">Register</button>
      <p style="text-align:center;margin-top:10px;font-size:0.9em;color:var(--muted)">
        Already have an account? <a href="#" id="switchToLogin">Login</a>
      </p>
      <button class="btn ghost" id="closeAuth">Close</button>
    </div>
  </div>

  <!-- ðŸ”¹ USER PROFILE -->
  <div id="userProfile" class="profile-box" style="display:none;">
    <div class="profile-avatar" id="profileAvatar"></div>
    <div class="profile-name" id="profileName"></div>
    <div class="profile-menu" id="profileMenu">
      <button id="viewProfile">
        <svg style="margin-left: -10px; margin-bottom:-5px;" xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#e3e3e3">
          <path d="M237-285q54-38 115.5-56.5T480-360q66 0 127.5 18.5T723-285q35-41 52-91t17-104q0-129.67-91.23-220.84-91.23-91.16-221-91.16Q350-792 259-700.84 168-609.67 168-480q0 54 17 104t52 91Zm243-123q-60 0-102-42t-42-102q0-60 42-102t102-42q60 0 102 42t42 102q0 60-42 102t-102 42Zm.28 312Q401-96 331-126t-122.5-82.5Q156-261 126-330.96t-30-149.5Q96-560 126-629.5q30-69.5 82.5-122T330.96-834q69.96-30 149.5-30t149.04 30q69.5 30 122 82.5T834-629.28q30 69.73 30 149Q864-401 834-331t-82.5 122.5Q699-156 629.28-126q-69.73 30-149 30Zm-.28-72q52 0 100-16.5t90-48.5q-43-27-91-41t-99-14q-51 0-99.5 13.5T290-233q42 32 90 48.5T480-168Zm0-312q30 0 51-21t21-51q0-30-21-51t-51-21q-30 0-51 21t-21 51q0 30 21 51t51 21Zm0-72Zm0 319Z"/>
        </svg>
          Profile
      </button>
      <button id="logoutUser">
        <svg style="margin-left: -10px; margin-bottom:-5px;" xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#e3e3e3">
          <path d="M216-144q-29.7 0-50.85-21.15Q144-186.3 144-216v-528q0-29.7 21.15-50.85Q186.3-816 216-816h264v72H216v528h264v72H216Zm432-168-51-51 81-81H384v-72h294l-81-81 51-51 168 168-168 168Z"/>
        </svg>
          Logout
      </button>
    </div>
  </div>

  <script>
    const authModal = document.getElementById('authModal');
    const authSubmit = document.getElementById('authSubmit');
    const switchToLogin = document.getElementById('switchToLogin');
    const closeAuth = document.getElementById('closeAuth');
    const profileBox = document.getElementById('userProfile');
    const profileName = document.getElementById('profileName');
    const profileAvatar = document.getElementById('profileAvatar');
    const profileMenu = document.getElementById('profileMenu');
    const logoutUser = document.getElementById('logoutUser');
    const viewProfile = document.getElementById('viewProfile');
    let isLogin = false;

    // âœ… Check login
    window.addEventListener('DOMContentLoaded', () => {
      const currentUser = JSON.parse(localStorage.getItem('gamecoinCurrentUser'));
      if (!currentUser) {
        authModal.style.display = 'flex';
        disableAllButtons();
      } else {
        displayUser(currentUser);
        enableAllButtons();
      }
    });

    switchToLogin.addEventListener('click', (e) => {
      e.preventDefault();
      isLogin = !isLogin;
      authSubmit.textContent = isLogin ? 'Login' : 'Register';
      switchToLogin.textContent = isLogin
        ? "Don't have an account? Register"
        : 'Already have an account? Login';
    });

    closeAuth.addEventListener('click', () => (authModal.style.display = 'none'));

    authSubmit.addEventListener('click', () => {
      const name = document.getElementById('authName').value.trim();
      const email = document.getElementById('authEmail').value.trim();
      const password = document.getElementById('authPassword').value.trim();
      if (!name || !email || !password) return alert('Please fill all fields');

      let users = JSON.parse(localStorage.getItem('gamecoinUsers')) || [];

      if (isLogin) {
        const user = users.find(u => u.email === email && u.password === password);
        if (user) {
          localStorage.setItem('gamecoinCurrentUser', JSON.stringify(user));
          authModal.style.display = 'none';
          displayUser(user);
          enableAllButtons();
          alert('âœ… Login successful!');
        } else alert('âŒ Invalid credentials');
      } else {
        if (users.some(u => u.email === email)) return alert('âŒ Email already registered!');
        const user = { name, email, password };
        users.push(user);
        localStorage.setItem('gamecoinUsers', JSON.stringify(users));
        localStorage.setItem('gamecoinCurrentUser', JSON.stringify(user));
        authModal.style.display = 'none';
        displayUser(user);
        enableAllButtons();
        alert('âœ… Account created successfully!');
      }
    });

    function displayUser(user) {
      profileAvatar.textContent = user.name[0].toUpperCase();
      profileName.textContent = user.name;
      profileBox.style.display = 'flex';
    }

    function disableAllButtons() {
      document.querySelectorAll('button, a.btn').forEach(b => {
        if (!b.closest('.auth-modal')) {
          b.disabled = true;
          b.style.opacity = 0.5;
        }
      });
    }

    function enableAllButtons() {
      document.querySelectorAll('button, a.btn').forEach(b => {
        b.disabled = false;
        b.style.opacity = 1;
      });
    }

    profileBox.addEventListener('click', () => {
      profileMenu.classList.toggle('show');
    });

    logoutUser.addEventListener('click', () => {
      localStorage.removeItem('gamecoinCurrentUser');
      profileBox.style.display = 'none';
      authModal.style.display = 'flex';
      disableAllButtons();
    });

    // ðŸ”¹ Profile Edit Modal (with Delete Account)
    viewProfile.addEventListener('click', (e) => {
      e.stopPropagation();
      const currentUser = JSON.parse(localStorage.getItem('gamecoinCurrentUser'));
      profileMenu.classList.remove('show');

      const modal = document.createElement('div');
      modal.className = 'auth-backdrop';
      modal.style.display = 'flex';
      modal.innerHTML = `
        <div class="auth-modal">
          <h3>Edit Profile</h3>
          <div class="field"><label>Full Name</label><input id="editName" value="${currentUser.name}"></div>
          <div class="field"><label>Email</label><input id="editEmail" value="${currentUser.email}"></div>
          <div class="field"><label>Password</label><input id="editPassword" value="${currentUser.password}"></div>
          <button class="btn" id="saveProfile">Save Changes</button>
          <button class="btn ghost" id="cancelEdit">Cancel</button>
          <button class="btn danger" id="deleteAccount" style="background-color:red; color:white;">Delete Account</button>
        </div>
      `;
      document.body.appendChild(modal);

      modal.querySelector('#cancelEdit').addEventListener('click', () => modal.remove());

      modal.querySelector('#saveProfile').addEventListener('click', () => {
        const updated = {
          name: modal.querySelector('#editName').value.trim(),
          email: modal.querySelector('#editEmail').value.trim(),
          password: modal.querySelector('#editPassword').value.trim()
        };
        if (!updated.name || !updated.email || !updated.password)
          return alert('Please fill all fields');

        let users = JSON.parse(localStorage.getItem('gamecoinUsers')) || [];
        const index = users.findIndex(u => u.email === currentUser.email);
        if (index !== -1) users[index] = updated;

        localStorage.setItem('gamecoinUsers', JSON.stringify(users));
        localStorage.setItem('gamecoinCurrentUser', JSON.stringify(updated));
        displayUser(updated);
        modal.remove();
        alert('âœ… Profile updated successfully!');
      });

      modal.querySelector('#deleteAccount').addEventListener('click', () => {
        if (confirm('âš ï¸ Are you sure you want to permanently delete your account?')) {
          let users = JSON.parse(localStorage.getItem('gamecoinUsers')) || [];
          const updated = users.filter(u => u.email !== currentUser.email);
          localStorage.setItem('gamecoinUsers', JSON.stringify(updated));
          localStorage.removeItem('gamecoinCurrentUser');
          modal.remove();
          authModal.style.display = 'flex';
          disableAllButtons();
          profileBox.style.display = 'none';
          alert('ðŸ—‘ï¸ Account deleted successfully.');
        }
      });
    });

    document.addEventListener('click', (e) => {
      if (!profileBox.contains(e.target)) profileMenu.classList.remove('show');
    });
  </script>

  <script type="module" src="script.js"></script>
  <script>
    fetch('footer.html').then(res => res.text()).then(html => {
      document.getElementById('footer-container').innerHTML = html;
    });
  </script>
</body>
</html>
